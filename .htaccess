RewriteEngine On

# Disable spell checking if module is available
<IfModule mod_speling.c>
    CheckSpelling Off
</IfModule>

# Disable directory listing
Options -Indexes

# Enable CORS for all origins if headers module is enabled
<IfModule mod_headers.c>
    Header set Access-Control-Allow-Origin "*"
</IfModule>

# Only rewrite if not a real file or directory
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Basic static routes
RewriteRule ^(home|register|rsvp_attend|rsvp_notattend|services|addservice|editservice|packages|addpackage|editpackage|managers|addmanager|editmanager|clients|addclient|editclient|explore_bundles|addcustompackage|booking|editbooking|clientbooking|editallbooking|delete|all|enquirymessages|serviceman|allbooking)$ index.php?pageid=$1 [NC,QSA,L]

# Logout route goes to a specific component
RewriteRule ^logout$ partials/logout.php [NC,QSA,L]

# SEO friendly blog post URLs
RewriteRule ^blog/([a-zA-Z0-9-]+)$ blog-details.php?slug=$1 [NC,QSA,L]

# Custom 404 handler
ErrorDocument 404 /index.php?pageid=404
